# Production Environment Configuration
# Copy this file to .env.production and fill in actual values
# NEVER commit .env.production to git!

# ============================================================================
# APPLICATION
# ============================================================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# ============================================================================
# TELEGRAM BOT
# ============================================================================
BOT_TOKEN=your_production_bot_token_from_botfather

# ============================================================================
# DATABASE (PostgreSQL)
# ============================================================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_strong_postgres_password_here
POSTGRES_DB=tgquiznft_prod
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
DATABASE_URL=postgresql+asyncpg://postgres:your_strong_postgres_password_here@postgres:5432/tgquiznft_prod

# Database connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ============================================================================
# REDIS
# ============================================================================
REDIS_URL=redis://:your_redis_password@redis:6379/0
REDIS_PASSWORD=your_redis_password

# ============================================================================
# TON BLOCKCHAIN (MAINNET)
# ============================================================================
TON_API_KEY=your_production_ton_api_key
TON_NETWORK=mainnet
TON_WALLET_MNEMONIC=your 24 word mnemonic phrase here for production wallet
TON_WALLET_VERSION=v4r2
NFT_COLLECTION_ADDRESS=EQD...your_mainnet_collection_address

# NFT pricing (in TON)
NFT_MINT_PRICE=0.5

# ============================================================================
# IPFS STORAGE (Pinata)
# ============================================================================
PINATA_API_KEY=your_production_pinata_api_key
PINATA_SECRET_KEY=your_production_pinata_secret_key
PINATA_GATEWAY_URL=https://gateway.pinata.cloud

# ============================================================================
# API SERVER
# ============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=false

# CORS Configuration
CORS_ORIGINS=["https://yourdomain.com","https://www.yourdomain.com"]
CORS_ALLOW_CREDENTIALS=true

# ============================================================================
# SECURITY
# ============================================================================
# Generate with: openssl rand -hex 32
SECRET_KEY=your_secret_key_for_jwt_and_sessions_here
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Rate limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ============================================================================
# MONITORING & LOGGING
# ============================================================================
# Sentry for error tracking
SENTRY_DSN=https://your_sentry_dsn@sentry.io/project_id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Logging
LOG_FORMAT=json
LOG_FILE_PATH=/var/log/tgquiz/app.log
LOG_ROTATION=100 MB
LOG_RETENTION=30 days

# ============================================================================
# WEBHOOK CONFIGURATION
# ============================================================================
WEBHOOK_URL=https://yourdomain.com/webhook
WEBHOOK_SECRET=your_webhook_secret_for_ton_payments

# ============================================================================
# EXTERNAL SERVICES
# ============================================================================
# TON Connect for payments
TON_CONNECT_MANIFEST_URL=https://yourdomain.com/tonconnect-manifest.json

# ============================================================================
# BACKUP & MAINTENANCE
# ============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
AWS_ACCESS_KEY_ID=your_aws_key
AWS_SECRET_ACCESS_KEY=your_aws_secret
AWS_REGION=us-east-1

# ============================================================================
# METRICS & PERFORMANCE
# ============================================================================
METRICS_ENABLED=true
METRICS_PORT=9090
PROMETHEUS_ENDPOINT=/metrics

# ============================================================================
# FEATURE FLAGS
# ============================================================================
ENABLE_NFT_MINTING=true
ENABLE_QUIZ_SHARING=true
ENABLE_ADMIN_PANEL=true
MAINTENANCE_MODE=false
